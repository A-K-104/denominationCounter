<!DOCTYPE html>
<html lang="en-US">
<head>
    <link rel="stylesheet" type="text/css" href="/static/styles/general.css">
    <link rel="stylesheet" type="text/css" href="/static/styles/login.css">
    <title class="title">Manage live game</title>
</head>
{% extends 'navigationBar.html'%}

{% block content %}

<body>
<h2 class="title">Game home page</h2>

<button onclick="redirectPage('run-game')">stop game</button>
 <div id="liveGame"></div>

</body>
<script>

    const interval = setInterval(function () {
        fetch('/run-game/get-score'+ window.location.search)
            .then((response) => {
                console.log(response)
                const scoreDiv = document.querySelector("#liveGame");
                if (response.status === 200) {
                    response.json().then(data => {
                        console.log(data);
                        scoreDiv.innerHTML = JSON.stringify(data);
                    });

                }
            })

    }, 2000);
    function redirectPage(path) {
        location.assign(path+ "/stop" + window.location.search)
    }
</script>

</html>
{% endblock %}