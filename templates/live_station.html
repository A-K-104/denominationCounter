<!DOCTYPE html>
<link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='styles/styles.css') }}">
<html>
{% block content %}

<body>
    <h1>Live station {{stationId}}</h1>
    <div>
    <table>
        <tr>
            <th>team id</th>
            <th>team name</th>
            <th>take control</th>
        </tr>
        {%for team in teams%}
        <tr {%if teamInControl==team.id%} style="background-color: {{team.color}};" {%endif%}>

            <td>
                <p style="color:{{team.color}};">{{team.id}}</p>
            </td>
            <td>
                <p style="color:{{team.color}};">
                    {{team.name}}</p>
            </td>
            <td>
                <form action="/station-handler?game-id={{gameId}}&station-id={{stationId}}" method="post">
                    <button name="setStatus"
                        style="visibility:show; background-color: {{team.color}}; height: 200px; width: 200px;">take
                        control</button>
                    <input name="teamId" type="hidden" value={{team.id}}>
                </form>
            </td>
        </tr>
        {%endfor%}
    </table>
</div>
    {{message}}

    <form id="test" action="/home" method="post">
        Name * <input id="name" type="hidden"><span id='errName' class='error'>This is a required field</span>
    </form>
</body>
{% endblock %}
<!-- <script>
    const interval = setInterval(function () {
        fetch('/game-is-alive?game-id={{gameId}}')
            .then((response) => {
                console.log(response)
                if (response.code != 200) {
                    // alert("The game was ended");

                    document.getElementById('test').onsubmit = function () {
                        return true;
                    }
                }
            })

    }, 5000);
</script> -->

</html>